<html>
    <head>
        <meta charset="UTF-8">
    </head>

    <body>
    <form name = "tstform">
        英語の点数：<input type = "text" name = "english" size = 3>点 / <!--英語の点数を入力-->
        数学の点数：<input type = "text" name = "mathmatics" size = 3>点<!--数学の点数を入力-->

        <input type = "button" onclick = "cave()" value = "平均計算"><!--ボタンを押して平均を計算-->
        <input type = "button" onclick = "scrclr ()" value = "キャンセル"><!--ボタンを押して入力がクリア-->

        <p>
        あなたの平均点は，<input type = "text" name = "tresult" size = 3>です．<!--平均点の出力-->
        <br>
        コメント：<input type = "text" name = "tcmnt" size = 60><br><!--点数次第の文字列-->

        <input type="button" onclick="discriminant()" value="成績判定"><br><!--ボタンを押して成績を表示-->
        英語の成績：<input type="text" name="ResEn" size="3"> / <!--英語の成績を表示-->
        数学の成績：<input type="text" name="ResMa" size="3">   <!--数学の成績を表示-->
    </form>
    </body>

    <script>
        // 入力を全てクリアする関数
        function scrclr () {
        for (i=0; i<document.tstform.length; i++) {
            if (document.tstform.elements[i].type != "button") {
                document.tstform.elements[i].value = "";
                }
        }
        document.tstform.english.focus ( );
        }
        
        // 平均を求め表示し、平均点に依るコメントを出力
        function cave () {
        document.tstform.tresult.value = (parseInt(document.tstform.english.value) + parseInt(document.tstform.mathmatics.value))/2;// 平均値を求める
        if (document.tstform.tresult.value < 60) {// 60点未満
            document.tstform.tcmnt.value = "頑張らないと単位がとれないですよ";
                } else if (document.tstform.tresult.value < 80) {// 80点未満
                    document.tstform.tcmnt.value = "もう少し頑張りましょう";
                    } else {// 80点以上
                            document.tstform.tcmnt.value = "よくできました";
                        }
        }
        
        // 点数次第で成績を表示する関数
        function discriminant(){
            // 英語
            if(document.tstform.english.value <= 59){
                document.tstform.ResEn.value = "不可";
            }else if(60 <= document.tstform.english.value && document.tstform.english.value <= 69){
                document.tstform.ResEn.value = "可";
            }else if(70 <= document.tstform.english.value && document.tstform.english.value <= 79){
                document.tstform.ResEn.value = "良";
            }else if(80 <= document.tstform.english.value && document.tstform.english.value <= 89){
                document.tstform.ResEn.value = "優";
            }else if(90 <= document.tstform.english.value){
                document.tstform.ResEn.value = "秀";
            }

            // 数学
            if(document.tstform.mathmatics.value <= 59){
                document.tstform.ResMa.value = "不可";
            }else if(60 <= document.tstform.mathmatics.value && document.tstform.mathmatics.value <= 69){
                document.tstform.ResMa.value = "可";
            }else if(70 <= document.tstform.mathmatics.value && document.tstform.mathmatics.value <= 79){
                document.tstform.ResMa.value = "良";
            }else if(80 <= document.tstform.mathmatics.value && document.tstform.mathmatics.value <= 89){
                document.tstform.ResMa.value = "優";
            }else if(90 <= document.tstform.mathmatics.value){
                document.tstform.ResMa.value = "秀";
            }
        }

    </script>
</html>
